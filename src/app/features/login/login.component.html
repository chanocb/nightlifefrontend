<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="card border-0 shadow-sm p-4" style="max-width: 400px; width: 100%;">
    <h2 class="text-center mb-4 text-primary">Login</h2>

    <form (ngSubmit)="login()" #loginForm="ngForm">
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <div class="input-group">
          <span class="input-group-text"><mat-icon>email</mat-icon></span>
          <input type="email" id="email" [(ngModel)]="email" name="email" class="form-control" placeholder="Enter your email" required autocomplete="email">
        </div>
      </div>

      <div class="mb-4">
        <label for="password" class="form-label">Password</label>
        <div class="input-group">
          <span class="input-group-text"><mat-icon>lock</mat-icon></span>
          <input [type]="showPassword ? 'text' : 'password'" id="password" [(ngModel)]="password" name="password" class="form-control" placeholder="Enter your password" required autocomplete="current-password">
          <button type="button" class="btn btn-outline-secondary" (click)="togglePassword()">
            <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
        </div>
      </div>

      <div class="d-grid">
        <button type="submit" class="btn btn-primary btn-lg" [disabled]="!isFormValid">
          <mat-icon>login</mat-icon>
          Login
        </button>
      </div>
    </form>

    <div *ngIf="user$ | async as loggedInUser" class="alert alert-success mt-4">
      <div class="d-flex align-items-center">
        <mat-icon class="me-2">check_circle</mat-icon>
        <div>
          <strong>Welcome!</strong>
          <p class="mb-0">{{ loggedInUser.email }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.input-group-text {
  background-color: transparent;
  border-right: none;
}
.input-group .form-control {
  border-left: none;
}
.input-group .form-control:focus {
  border-color: #ced4da;
  box-shadow: none;
}
.input-group:focus-within {
  box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}
.input-group:focus-within .input-group-text,
.input-group:focus-within .form-control {
  border-color: #86b7fe;
}
</style>